(this["webpackJsonpreact-multi-busy-example"]=this["webpackJsonpreact-multi-busy-example"]||[]).push([[0],{41:function(e,t,n){e.exports=n(54)},42:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);n(42);for(var r,a=n(0),c=n.n(a),u=n(12),s=n.n(u),i=n(21),o=n.n(i),l=n(27),f=n(66),m=n(70),p=n(67),b=n(72),y=n(69),d=n(28),E=n(34),g=256,B=[];g--;)B[g]=(g+256).toString(16).substring(1);var v=[],O=Object(a.createContext)([].concat(v)),h=function(e,t){var n=t.type,r=t.flagId;switch(n){case"BUSY_FLAGS_ADD":return[].concat(Object(E.a)(e),[r]);case"BUSY_FLAGS_REMOVE":return e.filter((function(e){return e!==r}));case"BUSY_FLAGS_RESET":return[].concat(v);default:return e}},j=function(){var e=Object(a.useContext)(O),t=e.busyFlags,n=e.dispatch,c=Object(a.useState)(null),u=Object(d.a)(c,2),s=u[0],i=u[1],o=t.includes(s);return Object(a.useEffect)((function(){return i(function(e){var t=0,n=e||11;if(!r||g+n>512)for(r="",g=0;t<256;t++)r+=B[256*Math.random()|0];return r.substring(g,g+++n)}())}),[]),Object(a.useEffect)((function(){return function(){return i(null)}}),[]),{busyFlagId:s,busyFlags:t,startBusy:function(){return n({type:"BUSY_FLAGS_ADD",flagId:s})},endBusy:function(){return n({type:"BUSY_FLAGS_REMOVE",flagId:s})},checkIsBusy:function(e){return t.includes(e||s)},isBusy:o}},S=function(e){var t=e.children,n=Object(a.useReducer)(h,v),r=Object(d.a)(n,2),u=r[0],s=r[1];return c.a.createElement(O.Provider,{value:{busyFlags:u,dispatch:s}},t)},k=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){e("DONE")}),1e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(e,t){return Object(l.a)(o.a.mark((function n(){var r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(),n.next=3,k();case 3:return r=n.sent,t(),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))},I=Object(f.a)((function(e){return{progress:{color:e.palette.grey[500],marginLeft:e.spacing(1)}}})),_=function(){var e=I(),t=j(),n=t.isBusy,r=t.startBusy,a=t.endBusy;return c.a.createElement(m.a,{color:"primary",variant:"contained",disabled:n,onClick:x(r,a)},c.a.createElement("span",null,"".concat(n?"I'm busy":"Click Me")),n&&c.a.createElement(p.a,{size:"1em",className:e.progress}))},C=function(){var e=I(),t=j(),n=t.isBusy,r=t.startBusy,a=t.endBusy;return c.a.createElement(m.a,{color:"primary",variant:"contained",disabled:n,onClick:x(r,a)},c.a.createElement("span",null,"".concat(n?"I'm busy":"Click Me")),n&&c.a.createElement(p.a,{size:"1em",className:e.progress}))},F=Object(f.a)((function(e){return{progress:{marginLeft:e.spacing(1)}}})),w=function(){var e=F(),t=j(),n=t.isBusy,r=t.startBusy,a=t.endBusy;return c.a.createElement(b.a,{href:"#",disabled:n,onClick:x(r,a)},c.a.createElement("span",null,"".concat(n?"I'm Busy":"Click Me")),n&&c.a.createElement(p.a,{size:"1em",className:e.progress}))},A=Object(f.a)((function(e){return{root:{"& button":{marginBottom:e.spacing(1)}}}})),L=function(){var e=A();return c.a.createElement(y.a,{className:e.root,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},c.a.createElement(_,null),c.a.createElement(C,null),c.a.createElement(w,null))},D=n(68);s.a.render(c.a.createElement(D.a,null,c.a.createElement(S,null,c.a.createElement(L,null))),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.128a8143.chunk.js.map