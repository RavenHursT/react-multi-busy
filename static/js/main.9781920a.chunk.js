(this["webpackJsonpreact-multi-busy-example"]=this["webpackJsonpreact-multi-busy-example"]||[]).push([[0],{38:function(e,t,n){e.exports=n(51)},39:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);n(39);var r=n(0),a=n.n(r),c=n(12),u=n.n(c),s=n(20),i=n.n(s),l=n(25),o=n(63),f=n(67),m=n(64),p=n(69),y=n(66),d=n(27),b=[],E=Object(r.createContext)([].concat(b)),g=function(e,t){var n=t.type,r=t.flagId;switch(n){case"BUSY_FLAGS_ADD":return[].concat(e,[r]);case"BUSY_FLAGS_REMOVE":return e.filter((function(e){return e!==r}));case"BUSY_FLAGS_RESET":return[].concat(b);default:return e}},B=function(){var e=Object(r.useContext)(E),t=e.busyFlags,n=e.dispatch,a=Object(r.useState)(null),c=a[0],u=a[1],s=t.includes(c);return Object(r.useEffect)((function(){return u(Object(d.a)())}),[]),Object(r.useEffect)((function(){return function(){return u(null)}}),[]),{busyFlagId:c,busyFlags:t,startBusy:function(){return n({type:"BUSY_FLAGS_ADD",flagId:c})},endBusy:function(){return n({type:"BUSY_FLAGS_REMOVE",flagId:c})},checkIsBusy:function(e){return t.includes(e||c)},isBusy:s}},v=function(e){var t=e.children,n=Object(r.useReducer)(g,b),c=n[0],u=n[1];return a.a.createElement(E.Provider,{value:{busyFlags:c,dispatch:u}},t)},h=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){e("DONE")}),1e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t){return Object(l.a)(i.a.mark((function n(){var r;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(),n.next=3,h();case 3:return r=n.sent,t(),n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))},j=Object(o.a)((function(e){return{progress:{color:e.palette.grey[500],marginLeft:e.spacing(1)}}})),S=function(){var e=j(),t=B(),n=t.isBusy,r=t.startBusy,c=t.endBusy;return a.a.createElement(f.a,{color:"primary",variant:"contained",disabled:n,onClick:O(r,c)},a.a.createElement("span",null,"".concat(n?"I'm busy":"Click Me")),n&&a.a.createElement(m.a,{size:"1em",className:e.progress}))},k=function(){var e=j(),t=B(),n=t.isBusy,r=t.startBusy,c=t.endBusy;return a.a.createElement(f.a,{color:"primary",variant:"contained",disabled:n,onClick:O(r,c)},a.a.createElement("span",null,"".concat(n?"I'm busy":"Click Me")),n&&a.a.createElement(m.a,{size:"1em",className:e.progress}))},x=Object(o.a)((function(e){return{progress:{marginLeft:e.spacing(1)}}})),I=function(){var e=x(),t=B(),n=t.isBusy,r=t.startBusy,c=t.endBusy;return a.a.createElement(p.a,{href:"#",disabled:n,onClick:O(r,c)},a.a.createElement("span",null,"".concat(n?"I'm Busy":"Click Me")),n&&a.a.createElement(m.a,{size:"1em",className:e.progress}))},_=Object(o.a)((function(e){return{root:{"& button":{marginBottom:e.spacing(1)}}}})),C=function(){var e=_();return a.a.createElement(y.a,{className:e.root,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh"},a.a.createElement(S,null),a.a.createElement(k,null),a.a.createElement(I,null))},F=n(65);u.a.render(a.a.createElement(F.a,null,a.a.createElement(v,null,a.a.createElement(C,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.9781920a.chunk.js.map